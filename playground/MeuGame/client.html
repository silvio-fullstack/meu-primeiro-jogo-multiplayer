<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisorio</title>
    <style>
        #screen {
            margin-top: 10px;
            margin-left: 10px;
            border-style: solid;
            border-color: blue;
        }
    </style>
</head>
<body>
    <canvas id="screen" width="1300" height="550"></canvas>

    <script>

        const screen = document.getElementById('screen')
        const context = screen.getContext('2d')
        const CurrentPlayer = 'player1'

        const objetos = {
            players:{
                'player1': {x: 10, y: 30},
                'player2': {x: 30, y: 50}
            },
            fruits: {
                'fruta1': {x: 100, y: 120}
            }        
        }

        document.addEventListener('keydown', handleKeydown)

        function handleKeydown(event) {
            
            const teclado = event.key
            const player = objetos.players[CurrentPlayer]

            if(teclado === 'ArrowUp'){
                player.y = player.y - 10
                return
            }

            if(teclado === 'ArrowDown'){
                player.y = player.y + 10
                return
            }

            if(teclado === 'ArrowLeft'){
                player.x = player.x - 10
                return
            }
            if(teclado === 'ArrowRight'){
                player.x = player.x + 10
                return
            }

        }
               
        const color = '#a59f9f'
        const posicaoX = 0
        const posicaoY = 0
        const width = 1300
        const height = 550

        renderizar()

        function renderizar() {

            context.fillStyle = color
            context.fillRect(posicaoX, posicaoY, width, height)

            for(const playersId in objetos.players){
                const player = objetos.players[playersId]
                context.fillStyle = 'black'
                context.fillRect(player.x, player.y, 10, 10)
            }

            requestAnimationFrame(renderizar)
        }

    </script>
</body>
</html>